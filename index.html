<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zad Bono | الموقع الرسمي</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Cairo', sans-serif; margin: 0; padding-top: 70px; background-color: #f0f4f8; color: #073763; text-align: center; transition: all 0.3s; }
        .navbar { background-color: #0b5394; padding: 10px 20px; position: fixed; top: 0; left: 0; right: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2     ); }
        .navbar-brand { color: #ffd700; font-weight: bold; font-size: 1.5em; text-decoration: none; }
        .navbar-links { display: flex; align-items: center; }
        .navbar-links a { color: #ffffff; text-decoration: none; margin: 0 15px; font-size: 1.1em; }
        .navbar-links a:hover { color: #ffd700; }
        .menu-toggle { display: none; font-size: 30px; color: white; background: none; border: none; cursor: pointer; }
        .language-switcher { position: relative; }
        .language-switcher .selected-lang { background-color: transparent; border: none; color: white; cursor: pointer; display: flex; align-items: center; font-family: 'Cairo', sans-serif; font-size: 1.1em; padding: 5px; }
        .language-switcher .selected-lang img { width: 24px; height: 24px; border-radius: 50%; margin-left: 8px; }
        .language-switcher .lang-menu { display: none; position: absolute; top: 120%; left: 50%; transform: translateX(-50%); background-color: white; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); list-style: none; padding: 5px; margin: 0; width: 180px; z-index: 1001; }
        .language-switcher .lang-menu.show { display: block; }
        .language-switcher .lang-menu li a { color: #073763; text-decoration: none; display: flex; align-items: center; padding: 10px; border-radius: 5px; transition: background-color 0.2s; }
        .language-switcher .lang-menu li a:hover { background-color: #e0e8f0; }
        .language-switcher .lang-menu li img { width: 24px; height: 24px; border-radius: 50%; margin-left: 10px; }
        .container { max-width: 800px; margin: 40px auto; padding: 30px; }
        .logo { width: 180px; height: 180px; border-radius: 50%; object-fit: cover; margin-bottom: 20px; border: 4px solid #ffd700; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
        h1 { color: #0b5394; font-size: 2.5em; }
        p { font-size: 1.2em; line-height: 1.7; margin-bottom: 30px; }
        .buttons-container { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-bottom: 50px; }
        .download-button { background-color: #ffd700; color: #073763; padding: 15px 30px; font-size: 1.2em; font-weight: bold; text-decoration: none; border-radius: 50px; transition: transform 0.2s; display: inline-block; }
        .download-button.secondary { background-color: #ffffff; border: 2px solid #0b5394; }
        .download-button:hover { transform: scale(1.05); }
        .prayer-times-widget { background-color: #ffffff; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); max-width: 700px; margin: 0 auto; overflow: hidden; }
        .date-bar { background-color: #0b5394; color: white; padding: 12px; font-size: 1.1em; min-height: 1.5em; display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap; }
        .widget-body { padding: 20px; }
        .city-selector-container { margin-bottom: 20px; }
        .city-selector-container label { font-size: 1.2em; margin-left: 10px; }
        #city-selector { padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-family: 'Cairo', sans-serif; font-size: 1.1em; }
        .digital-clock { font-size: 3.5em; font-weight: bold; color: #0b5394; margin-bottom: 20px; direction: ltr; }
        .prayer-table { width: 100%; border-collapse: collapse; }
        .prayer-table th, .prayer-table td { padding: 15px; text-align: center; border-bottom: 1px solid #eee; }
        .prayer-table th { background-color: #f0f4f8; font-size: 1.1em; }
        .prayer-table td { font-size: 1.2em; font-weight: bold; direction: ltr; }
        .prayer-table tr:last-child td { border-bottom: none; }
        @media (max-width: 850px) {
            .navbar-links { display: none; flex-direction: column; position: absolute; top: 70px; left: 0; width: 100%; background-color: #0b5394; padding: 10px 0; }
            .navbar-links.active { display: flex; }
            .navbar-links a, .language-switcher { margin: 10px 0; text-align: center; }
            .menu-toggle { display: block; }
            h1 { font-size: 2em; }
            p { font-size: 1em; }
            .digital-clock { font-size: 2.5em; }
            .prayer-table th, .prayer-table td { padding: 10px; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="index.html" class="navbar-brand" data-translate="app_name">Zad Bono</a>
        <div class="navbar-links" id="navbar-links">
            <a href="index.html" data-translate="nav_home">الرئيسية</a>
            <a href="features.html" data-translate="nav_features">شرح المميزات</a>
            <!-- ===>>> [هذا هو السطر الجديد] <<<=== -->
            <a href="install.html" data-translate="nav_install">التحميل والتثبيت</a>
            <a href="contact.html" data-translate="nav_contact">اتصل بنا</a>
            <a href="privacy-policy.html" data-translate="nav_privacy">سياسة الخصوصية</a>
            <div class="language-switcher">
                <button class="selected-lang" id="lang-toggle-btn">
                    <span id="lang-text">العربية</span>
                    <img id="lang-flag" src="images/ar.png" alt="علم اللغة">
                </button>
                <ul class="lang-menu" id="lang-menu">
                    <li><a href="#" onclick="setLanguage('ar')"><img src="images/ar.png" alt="علم مصر"> العربية</a></li>
                    <li><a href="#" onclick="setLanguage('en')"><img src="images/en.png" alt="علم أمريكا"> English</a></li>
                    <li><a href="#" onclick="setLanguage('de')"><img src="images/de.png" alt="علم ألمانيا"> Deutsch</a></li>
                    <li><a href="#" onclick="setLanguage('fr')"><img src="images/fr.png" alt="علم فرنسا"> Français</a></li>
                    <li><a href="#" onclick="setLanguage('cn')"><img src="images/cn.png" alt="علم الصين"> 中文</a></li>
                </ul>
            </div>
        </div>
        <button class="menu-toggle" id="menu-toggle">☰</button>
    </nav>

    <div class="container">
        <img src="images/logo.jpg" alt="شعار تطبيق زاد بونو" class="logo">
        <h1 data-translate="main_title">تطبيق Zad Bono</h1>
        <p data-translate="main_subtitle">دليلك الذكي للعبادات اليومية. اكتشف تجربة إيمانية فريدة ومتكاملة بين يديك.</p>
        
        <div class="buttons-container">
            <a href="https://archive.org/download/zad-bono-v-1.2/ZadBono-v1.2.apk" class="download-button" data-translate="btn_android">تحميل للأندرويد (APK )</a>
            <a href="iphone.html" class="download-button secondary" data-translate="btn_iphone">تحميل للآيفون</a>
        </div>

        <div class="prayer-times-widget">
            <div class="date-bar" id="date-bar">--:--</div>
            <div class="widget-body">
                <div class="city-selector-container">
                    <label for="city-selector" data-translate="select_city">اختر المدينة:</label>
                    <select id="city-selector">
                        <optgroup label="الشرق الأوسط">
                            <option value="Cairo,Egypt" selected>القاهرة، مصر</option>
                            <option value="Mecca,Saudi Arabia">مكة المكرمة، السعودية</option>
                            <option value="Riyadh,Saudi Arabia">الرياض، السعودية</option>
                            <option value="Dubai,United Arab Emirates">دبي، الإمارات</option>
                            <option value="Kuwait,Kuwait">الكويت</option>
                            <option value="Doha,Qatar">الدوحة، قطر</option>
                            <option value="Amman,Jordan">عمان، الأردن</option>
                            <option value="Baghdad,Iraq">بغداد، العراق</option>
                            <option value="Beirut,Lebanon">بيروت، لبنان</option>
                        </optgroup>
                        <optgroup label="أفريقيا">
                            <option value="Algiers,Algeria">الجزائر</option>
                            <option value="Rabat,Morocco">الرباط، المغرب</option>
                            <option value="Tunis,Tunisia">تونس</option>
                            <option value="Khartoum,Sudan">الخرطوم، السودان</option>
                        </optgroup>
                        <optgroup label="آسيا">
                            <option value="Istanbul,Turkey">إسطنبول، تركيا</option>
                            <option value="Jakarta,Indonesia">جاكرتا، إندونيسيا</option>
                            <option value="Kuala Lumpur,Malaysia">كوالالمبور، ماليزيا</option>
                        </optgroup>
                        <optgroup label="أوروبا">
                            <option value="London,United Kingdom">لندن، بريطانيا</option>
                            <option value="Paris,France">باريس، فرنسا</option>
                            <option value="Berlin,Germany">برلين، ألمانيا</option>
                            <option value="Moscow,Russia">موسكو، روسيا</option>
                        </optgroup>
                        <optgroup label="أمريكا الشمالية">
                            <option value="New York,United States">نيويورك، أمريكا</option>
                            <option value="Toronto,Canada">تورونتو، كندا</option>
                        </optgroup>
                    </select>
                </div>
                <div class="digital-clock" id="digital-clock">--:--:--</div>
                <table class="prayer-table">
                    <thead>
                        <tr>
                            <th data-translate="prayer_fajr">الفجر</th>
                            <th data-translate="prayer_dhuhr">الظهر</th>
                            <th data-translate="prayer_asr">العصر</th>
                            <th data-translate="prayer_maghrib">المغرب</th>
                            <th data-translate="prayer_isha">العشاء</th>
                        </tr>
                    </thead>
                    <tbody id="prayer-times-body">
                        <tr>
                            <td id="fajr-time">--:--</td>
                            <td id="dhuhr-time">--:--</td>
                            <td id="asr-time">--:--</td>
                            <td id="maghrib-time">--:--</td>
                            <td id="isha-time">--:--</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // --- Script for Mobile Menu ---
        const menuToggle = document.getElementById('menu-toggle');
        const navbarLinks = document.getElementById('navbar-links');
        menuToggle.addEventListener('click', () => { navbarLinks.classList.toggle('active'); });

        // --- Script for Language Switcher ---
        const translations = {
            ar: { app_name: "Zad Bono", nav_home: "الرئيسية", nav_features: "شرح المميزات", nav_install: "التحميل والتثبيت", nav_contact: "اتصل بنا", nav_privacy: "سياسة الخصوصية", main_title: "تطبيق Zad Bono", main_subtitle: "دليلك الذكي للعبادات اليومية. اكتشف تجربة إيمانية فريدة ومتكاملة بين يديك.", btn_android: "تحميل للأندرويد (APK)", btn_iphone: "تحميل للآيفون", lang_name: "العربية", select_city: "اختر المدينة:", prayer_fajr: "الفجر", prayer_dhuhr: "الظهر", prayer_asr: "العصر", prayer_maghrib: "المغرب", prayer_isha: "العشاء" },
            en: { app_name: "Zad Bono", nav_home: "Home", nav_features: "Features", nav_install: "Installation", nav_contact: "Contact Us", nav_privacy: "Privacy Policy", main_title: "Zad Bono App", main_subtitle: "Your smart guide for daily worship. Discover a unique and integrated faith experience in your hands.", btn_android: "Download for Android (APK)", btn_iphone: "Download for iPhone", lang_name: "English", select_city: "Select City:", prayer_fajr: "Fajr", prayer_dhuhr: "Dhuhr", prayer_asr: "Asr", prayer_maghrib: "Maghrib", prayer_isha: "Isha" },
            de: { app_name: "Zad Bono", nav_home: "Startseite", nav_features: "Funktionen", nav_install: "Installation", nav_contact: "Kontakt", nav_privacy: "Datenschutz", main_title: "Zad Bono App", main_subtitle: "Ihr intelligenter Leitfaden für das tägliche Gebet. Entdecken Sie eine einzigartige und integrierte Glaubenserfahrung in Ihren Händen.", btn_android: "Download für Android (APK)", btn_iphone: "Download für iPhone", lang_name: "Deutsch", select_city: "Stadt wählen:", prayer_fajr: "Fajr", prayer_dhuhr: "Dhuhr", prayer_asr: "Asr", prayer_maghrib: "Maghrib", prayer_isha: "Isha" },
            fr: { app_name: "Zad Bono", nav_home: "Accueil", nav_features: "Fonctionnalités", nav_install: "Installation", nav_contact: "Contactez-nous", nav_privacy: "Politique de confidentialité", main_title: "Application Zad Bono", main_subtitle: "Votre guide intelligent pour le culte quotidien. Découvrez une expérience de foi unique et intégrée entre vos mains.", btn_android: "Télécharger pour Android (APK)", btn_iphone: "Télécharger pour iPhone", lang_name: "Français", select_city: "Choisir la ville:", prayer_fajr: "Fajr", prayer_dhuhr: "Dhuhr", prayer_asr: "Asr", prayer_maghrib: "Maghrib", prayer_isha: "Isha" },
            cn: { app_name: "Zad Bono", nav_home: "首页", nav_features: "功能", nav_install: "安装", nav_contact: "联系我们", nav_privacy: "隐私政策", main_title: "Zad Bono 应用", main_subtitle: "您的日常敬拜智能指南。发现独特而完整的信仰体验。", btn_android: "下载安卓版 (APK)", btn_iphone: "下载iPhone版", lang_name: "中文", select_city: "选择城市:", prayer_fajr: "晨礼", prayer_dhuhr: "晌礼", prayer_asr: "晡礼", prayer_maghrib: "昏礼", prayer_isha: "宵礼" }
        };
        const langToggleButton = document.getElementById('lang-toggle-btn');
        const langMenu = document.getElementById('lang-menu');
        const selectedLangBtnText = document.getElementById('lang-text');
        const selectedLangBtnFlag = document.getElementById('lang-flag');
        function setLanguage(lang) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(el => { const key = el.getAttribute('data-translate'); if (translations[lang] && translations[lang][key]) { el.textContent = translations[lang][key]; } });
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            selectedLangBtnText.textContent = translations[lang].lang_name;
            selectedLangBtnFlag.src = `images/${lang}.png`;
            localStorage.setItem('language', lang);
            if(langMenu) langMenu.classList.remove('show');
        }
        langToggleButton.addEventListener('click', (event) => { event.stopPropagation(); langMenu.classList.toggle('show'); });
        window.addEventListener('click', () => { if (langMenu.classList.contains('show')) { langMenu.classList.remove('show'); } });
        
        // --- Prayer Times Widget Script ---
        const citySelector = document.getElementById('city-selector');
        const dateBar = document.getElementById('date-bar');
        const digitalClock = document.getElementById('digital-clock');
        const fajrTime = document.getElementById('fajr-time');
        const dhuhrTime = document.getElementById('dhuhr-time');
        const asrTime = document.getElementById('asr-time');
        const maghribTime = document.getElementById('maghrib-time');
        const ishaTime = document.getElementById('isha-time');
        let clockInterval;

        function getPrayerTimes(city, country) {
            if (clockInterval) clearInterval(clockInterval);
            const url = `https://api.aladhan.com/v1/timingsByCity?city=${encodeURIComponent(city    )}&country=${encodeURIComponent(country)}&method=5`;
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (data.code === 200) {
                        const timings = data.data.timings;
                        const date = data.data.date;
                        const timezone = data.data.meta.timezone;
                        fajrTime.textContent = timings.Fajr.split(' ')[0];
                        dhuhrTime.textContent = timings.Dhuhr.split(' ')[0];
                        asrTime.textContent = timings.Asr.split(' ')[0];
                        maghribTime.textContent = timings.Maghrib.split(' ')[0];
                        ishaTime.textContent = timings.Isha.split(' ')[0];
                        
                        // *** MODIFICATION 1: Date Bar Formatting ***
                        const gregorianDate = `${date.gregorian.day} ${date.gregorian.month.en} ${date.gregorian.year}`;
                        const hijriDate = `${date.hijri.day} ${date.hijri.month.ar} ${date.hijri.year}`;
                        dateBar.innerHTML = `<span>${date.hijri.weekday.ar}</span> • <span>${gregorianDate}</span> • <span>${hijriDate}</span>`;

                        startClock(timezone);
                    } else {
                        dateBar.textContent = "لا يمكن جلب البيانات لهذه المدينة";
                    }
                })
                .catch(error => {
                    console.error('Error fetching prayer times:', error);
                    dateBar.textContent = "حدث خطأ في جلب البيانات";
                });
        }

        function startClock(timezone) {
            clockInterval = setInterval(() => {
                const now = new Date();
                // *** MODIFICATION 2: Clock Formatting with AM/PM ***
                const timeString = now.toLocaleTimeString('ar-EG', { timeZone: timezone, hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
                digitalClock.textContent = timeString;
            }, 1000);
        }

        citySelector.addEventListener('change', () => {
            const [city, country] = citySelector.value.split(',');
            getPrayerTimes(city, country);
        });

        document.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('language') || 'ar';
            setLanguage(savedLang);
            const [city, country] = citySelector.value.split(',');
            getPrayerTimes(city, country);
        });
    </script>

</body>
</html>
